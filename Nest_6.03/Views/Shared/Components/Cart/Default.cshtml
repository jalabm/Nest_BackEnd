@model List<BasketItemsVm>
@{
    decimal totalPrice = Model.Sum(x => x.Count * x.Price);
}

<div class="cart-dropdown-wrap cart-dropdown-hm2">
    <ul>
        @foreach (var product in Model)
        {
            <li>
                <div class="shopping-cart-img">
                    <a href="shop-product-right.html">
                        <img alt="Nest"
                             src="~/assets/imgs/productImg/@product.Image" />
                    </a>
                </div>
                <div class="shopping-cart-title">
                    <h4><a asp-action="Detail" asp-route-id="@product.Id">@product.Name</a></h4>
                    <h4><span>@product.Count × </span>$@product.Price</h4>
                </div>
                <div class="shopping-cart-delete">
                    <a href="#"><i class="fi-rs-cross-small"></i></a>
                </div>
            </li>
        }
    </ul>
    <div class="shopping-cart-footer">
        <div class="shopping-cart-total">
            <h4>Total <span>$@totalPrice</span></h4>
        </div>
        <div class="shopping-cart-button">
            <a href="shop-cart.html" class="outline">View cart</a>
            <a href="shop-checkout.html">Checkout</a>
        </div>
    </div>
</div>